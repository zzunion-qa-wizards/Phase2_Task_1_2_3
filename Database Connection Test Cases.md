# Database Connection

# GUI Test Cases

| GUI Test ID | Test Case Description | Precondition | Test Steps | Test Data | Post-Condition | Expected Result |
| --- | --- | --- | --- | --- | --- | --- |
| GUI_TC_01 | Verify Successful Connection | Metabase application is open | 1. Enter valid database credentials. | Valid username, password, valid host address | User attempts to connect to DB. | Successful connection to the database. |
| GUI_TC_02 | Verify Connection Failure - Invalid Credentials | Metabase application is open | 1. Enter invalid database username and password. | Invalid username, password, valid host address | User attempts to connect to DB. | Connection failure message is displayed. |
| GUI_TC_03 | Verify Username Required Field Validation | Metabase application is open | 1. Leave the username field empty. 2. Provide a valid password. | Empty username, valid password, valid host address | User attempts to connect to DB. | Error message: "Username required" is displayed. |
| GUI_TC_04 | Verify Password Required Field Validation | Metabase application is open | 1. Provide a valid username. 2. Leave the password field empty. | Valid username, empty password, valid host address | User attempts to connect to DB. | Error message: "Password required" is displayed. |
| GUI_TC_05 | Verify Invalid Host Address | Metabase application is open | 1. Enter an invalid host address. 2. Provide valid credentials. | Valid username, password, invalid host address | User attempts to connect to DB. | Connection failure message is displayed due to invalid host. |
| GUI_TC_06 | Verify Maximum Username Length | Metabase application is open | 1. Enter a 255-character username. 2. Provide valid password. | 255-character username, password, valid host address | User attempts to connect to DB. | Successful connection with a maximum length username. |
| GUI_TC_07 | Verify Minimum Password Length | Metabase application is open | 1. Enter a 1-character password. 2. Provide valid username. | Valid username, 1-character password, valid host address | User attempts to connect to DB. | Successful connection with a minimum length password. |
| GUI_TC_08 | Verify Maximum Password Length | Metabase application is open | 1. Enter a 128-character password. 2. Provide valid username. | Valid username, 128-character password, valid host address | User attempts to connect to DB. | Successful connection with a maximum length password. |
| GUI_TC_09 | Verify Invalid Username Length (Less than Minimum) | Metabase application is open | 1. Leave the username field empty. 2. Provide a valid password. | Empty username, valid password, valid host address | User attempts to connect to DB. | Error message: "Invalid username" is displayed. |
| GUI_TC_10 | Verify Invalid Username Length (More than Maximum) | Metabase application is open | 1. Enter a 256-character username. 2. Provide valid password. | 256-character username, password, valid host address | User attempts to connect to DB. | Error message: "Invalid username" is displayed. |
| GUI_TC_11 | Verify Invalid Password Length (Less than Minimum) | Metabase application is open | 1. Provide a valid username. 2. Leave the password field empty. | Valid username, empty password, valid host address | User attempts to connect to DB. | Error message: "Invalid password" is displayed. |
| GUI_TC_12 | Verify Invalid Password Length (More than Maximum) | Metabase application is open | 1. Provide a valid username. 2. Enter a 129-character password. | Valid username, 129-character password, valid host address | User attempts to connect to DB. | Error message: "Invalid password" is displayed. |
| GUI_TC_13 | Verify Successful Connection with Valid Host Address | Metabase application is open | 1. Enter valid database credentials. 2. Provide a valid host address. | Valid username, password, valid host address | User attempts to connect to DB. | Successful connection to the database. |
| GUI_TC_14 | Verify Connection Failure with Invalid Host Address | Metabase application is open | 1. Enter valid database credentials. 2. Enter an invalid host address. | Valid username, password, invalid host address | User attempts to connect to DB. | Connection failure due to an invalid host address. |
| GUI_TC_15 | Verify Behavior with Valid Credentials and Timeout | Metabase application is open | 1. Enter valid database credentials. 2. Set a long connection timeout. | Valid username, password, valid host address | User attempts to connect to DB. | Either successful connection or a timeout message is displayed. |

# API Test Cases

| API Test ID | Test Case Description | Precondition | Test Steps | Test Data | Post-Condition | Expected Result |
| --- | --- | --- | --- | --- | --- | --- |
| API_TC_01 | Verify Database Connection Status | Metabase API is accessible | 1. Send a GET request to /api/database/status. | - | Database connection status is queried. | Response indicates the status of the database connection (e.g., "connected" or "disconnected"). |
| API_TC_02 | Verify List of Databases | Metabase API is accessible | 1. Send a GET request to /api/database. | - | List of available databases is queried. | Response contains a list of available databases. |
| API_TC_03 | Verify Database Schema Information | Metabase API is accessible | 1. Send a GET request to /api/database/{database_id}/schema. | Database ID | Database schema information is queried. | Response includes schema information for the specified database. |
| API_TC_04 | Verify Query Execution | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/query with a valid SQL query. | Database ID, SQL query | Database query is executed. | Response includes query result, and the status is "success." |
| API_TC_05 | Verify Query Execution - Invalid SQL | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/query with an invalid SQL query. | Database ID, invalid SQL query | Database query is executed. | Response indicates a query error, and the status is "failed." |
| API_TC_06 | Verify Query Execution - No Permission | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/query with a query that the user has no permission to execute. | Database ID, SQL query without permission | Database query is executed. | Response indicates a permission error. |
| API_TC_07 | Verify Query Execution - Timeout | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/query with a long-running query. | Database ID, long-running SQL query | Database query is executed. | Response indicates a timeout error. |
| API_TC_08 | Verify Query Cancellation | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/query/{query_id}/cancel to cancel a running query. | Database ID, Query ID | Query cancellation is requested. | Response confirms that the query has been canceled. |
| API_TC_09 | Verify Query Result Export - CSV | Metabase API is accessible | 1. Send a GET request to /api/database/{database_id}/query/{query_id}/results.csv to export query results in CSV format. | Database ID, Query ID | Query results are exported in CSV format. | Response provides a downloadable CSV file. |
| API_TC_10 | Verify Query Result Export - JSON | Metabase API is accessible | 1. Send a GET request to /api/database/{database_id}/query/{query_id}/results.json to export query results in JSON format. | Database ID, Query ID | Query results are exported in JSON format. | Response provides query results in JSON format. |
| API_TC_11 | Verify Query Result Export - XLSX | Metabase API is accessible | 1. Send a GET request to /api/database/{database_id}/query/{query_id}/results.xlsx to export query results in XLSX format. | Database ID, Query ID | Query results are exported in XLSX format. | Response provides a downloadable XLSX file. |
| API_TC_12 | Verify Query History Retrieval | Metabase API is accessible | 1. Send a GET request to /api/database/{database_id}/query/{query_id}/history to retrieve query history. | Database ID, Query ID | Query history is retrieved. | Response contains the history of the specified query. |
| API_TC_13 | Verify Database Disconnect | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/disconnect to disconnect from the database. | Database ID | Database disconnection is requested. | Response confirms the disconnection. |
| API_TC_14 | Verify Connection Pool Information | Metabase API is accessible | 1. Send a GET request to /api/database/{database_id}/pool to retrieve connection pool information. | Database ID | Connection pool information is queried. | Response includes details about the connection pool. |
| API_TC_15 | Verify Database Backup | Metabase API is accessible | 1. Send a POST request to /api/database/{database_id}/backup to initiate a database backup. | Database ID | Database backup is initiated. | Response indicates the status of the backup process. |